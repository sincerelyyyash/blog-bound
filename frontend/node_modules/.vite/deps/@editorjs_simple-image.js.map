{
  "version": 3,
  "sources": ["../../@editorjs/simple-image/dist/simple-image.mjs"],
  "sourcesContent": ["(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".cdx-simple-image .cdx-loader{min-height:200px}.cdx-simple-image .cdx-input{margin-top:10px}.cdx-simple-image img{max-width:100%;vertical-align:bottom}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-simple-image__picture--with-background{background:#eff2f5;padding:10px}.cdx-simple-image__picture--with-background img{display:block;max-width:60%;margin:0 auto}.cdx-simple-image__picture--with-border{border:1px solid #e8e8eb;padding:1px}.cdx-simple-image__picture--stretched img{max-width:none;width:100%}\")),document.head.appendChild(e)}}catch(t){console.error(\"vite-plugin-css-injected-by-js\",t)}})();\nconst s = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 13V16M16 19V16M19 16H16M16 16H13\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6.5 17.5L17.5 6.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 10.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.9919 19H11.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13L13 5\"/></svg>', a = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 9.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.5 5H14.5096\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.3725 5H9.38207\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 9.5H5.00957\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.3725 19H9.38207\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 14.55H5.00957\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 13V16M16 19V16M19 16H16M16 16H13\"/></svg>', d = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 9L20 12L17 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 12H20\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 9L4 12L7 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 12H10\"/></svg>';\nclass h {\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {{data: SimpleImageData, config: object, api: object}}\n   *   data â€” previously saved data\n   *   config - user config for Tool\n   *   api - Editor.js API\n   *   readOnly - read-only mode flag\n   */\n  constructor({ data: t, config: e, api: r, readOnly: o }) {\n    this.api = r, this.readOnly = o, this.blockIndex = this.api.blocks.getCurrentBlockIndex() + 1, this.CSS = {\n      baseClass: this.api.styles.block,\n      loading: this.api.styles.loader,\n      input: this.api.styles.input,\n      /**\n       * Tool's classes\n       */\n      wrapper: \"cdx-simple-image\",\n      imageHolder: \"cdx-simple-image__picture\",\n      caption: \"cdx-simple-image__caption\"\n    }, this.nodes = {\n      wrapper: null,\n      imageHolder: null,\n      image: null,\n      caption: null\n    }, this.data = {\n      url: t.url || \"\",\n      caption: t.caption || \"\",\n      withBorder: t.withBorder !== void 0 ? t.withBorder : !1,\n      withBackground: t.withBackground !== void 0 ? t.withBackground : !1,\n      stretched: t.stretched !== void 0 ? t.stretched : !1\n    }, this.tunes = [\n      {\n        name: \"withBorder\",\n        label: \"Add Border\",\n        icon: a\n      },\n      {\n        name: \"stretched\",\n        label: \"Stretch Image\",\n        icon: d\n      },\n      {\n        name: \"withBackground\",\n        label: \"Add Background\",\n        icon: s\n      }\n    ];\n  }\n  /**\n   * Creates a Block:\n   *  1) Show preloader\n   *  2) Start to load an image\n   *  3) After loading, append image and caption input\n   *\n   * @public\n   */\n  render() {\n    const t = this._make(\"div\", [this.CSS.baseClass, this.CSS.wrapper]), e = this._make(\"div\", this.CSS.loading), r = this._make(\"div\", this.CSS.imageHolder), o = this._make(\"img\"), i = this._make(\"div\", [this.CSS.input, this.CSS.caption], {\n      contentEditable: !this.readOnly,\n      innerHTML: this.data.caption || \"\"\n    });\n    return i.dataset.placeholder = \"Enter a caption\", t.appendChild(e), this.data.url && (o.src = this.data.url), o.onload = () => {\n      t.classList.remove(this.CSS.loading), r.appendChild(o), t.appendChild(r), t.appendChild(i), e.remove(), this._acceptTuneView();\n    }, o.onerror = (n) => {\n      console.log(\"Failed to load an image\", n);\n    }, this.nodes.imageHolder = r, this.nodes.wrapper = t, this.nodes.image = o, this.nodes.caption = i, t;\n  }\n  /**\n   * @public\n   * @param {Element} blockContent - Tool's wrapper\n   * @returns {SimpleImageData}\n   */\n  save(t) {\n    const e = t.querySelector(\"img\"), r = t.querySelector(\".\" + this.CSS.input);\n    return e ? Object.assign(this.data, {\n      url: e.src,\n      caption: r.innerHTML\n    }) : this.data;\n  }\n  /**\n   * Sanitizer rules\n   */\n  static get sanitize() {\n    return {\n      url: {},\n      withBorder: {},\n      withBackground: {},\n      stretched: {},\n      caption: {\n        br: !0\n      }\n    };\n  }\n  /**\n   * Notify core that read-only mode is suppoorted\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Read pasted image and convert it to base64\n   *\n   * @static\n   * @param {File} file\n   * @returns {Promise<SimpleImageData>}\n   */\n  onDropHandler(t) {\n    const e = new FileReader();\n    return e.readAsDataURL(t), new Promise((r) => {\n      e.onload = (o) => {\n        r({\n          url: o.target.result,\n          caption: t.name\n        });\n      };\n    });\n  }\n  /**\n   * On paste callback that is fired from Editor.\n   *\n   * @param {PasteEvent} event - event with pasted config\n   */\n  onPaste(t) {\n    switch (t.type) {\n      case \"tag\": {\n        const e = t.detail.data;\n        this.data = {\n          url: e.src\n        };\n        break;\n      }\n      case \"pattern\": {\n        const { data: e } = t.detail;\n        this.data = {\n          url: e\n        };\n        break;\n      }\n      case \"file\": {\n        const { file: e } = t.detail;\n        this.onDropHandler(e).then((r) => {\n          this.data = r;\n        });\n        break;\n      }\n    }\n  }\n  /**\n   * Returns image data\n   *\n   * @returns {SimpleImageData}\n   */\n  get data() {\n    return this._data;\n  }\n  /**\n   * Set image data and update the view\n   *\n   * @param {SimpleImageData} data\n   */\n  set data(t) {\n    this._data = Object.assign({}, this.data, t), this.nodes.image && (this.nodes.image.src = this.data.url), this.nodes.caption && (this.nodes.caption.innerHTML = this.data.caption);\n  }\n  /**\n   * Specify paste substitutes\n   *\n   * @see {@link ../../../docs/tools.md#paste-handling}\n   * @public\n   */\n  static get pasteConfig() {\n    return {\n      patterns: {\n        image: /https?:\\/\\/\\S+\\.(gif|jpe?g|tiff|png|webp)$/i\n      },\n      tags: [\n        {\n          img: { src: !0 }\n        }\n      ],\n      files: {\n        mimeTypes: [\"image/*\"]\n      }\n    };\n  }\n  /**\n   * Returns image tunes config\n   *\n   * @returns {Array}\n   */\n  renderSettings() {\n    return this.tunes.map((t) => ({\n      ...t,\n      label: this.api.i18n.t(t.label),\n      toggle: !0,\n      onActivate: () => this._toggleTune(t.name),\n      isActive: !!this.data[t.name]\n    }));\n  }\n  /**\n   * Helper for making Elements with attributes\n   *\n   * @param  {string} tagName           - new Element tag name\n   * @param  {Array|string} classNames  - list or name of CSS classname(s)\n   * @param  {object} attributes        - any attributes\n   * @returns {Element}\n   */\n  _make(t, e = null, r = {}) {\n    const o = document.createElement(t);\n    Array.isArray(e) ? o.classList.add(...e) : e && o.classList.add(e);\n    for (const i in r)\n      o[i] = r[i];\n    return o;\n  }\n  /**\n   * Click on the Settings Button\n   *\n   * @private\n   * @param tune\n   */\n  _toggleTune(t) {\n    this.data[t] = !this.data[t], this._acceptTuneView();\n  }\n  /**\n   * Add specified class corresponds with activated tunes\n   *\n   * @private\n   */\n  _acceptTuneView() {\n    this.tunes.forEach((t) => {\n      this.nodes.imageHolder.classList.toggle(this.CSS.imageHolder + \"--\" + t.name.replace(/([A-Z])/g, (e) => `-${e[0].toLowerCase()}`), !!this.data[t.name]), t.name === \"stretched\" && this.api.blocks.stretchBlock(this.blockIndex, !!this.data.stretched);\n    });\n  }\n}\nexport {\n  h as default\n};\n"],
  "mappings": "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",
  "names": []
}
